{"version":3,"sources":["components/SearchBar.js","components/Video.js","components/VideoDetail.js","components/VideoListItem.js","containers/VideoList.js","containers/App.js","reportWebVitals.js","index.js"],"names":["SearchBar","props","handleClick","onConfirm","state","inputValue","handleKeyDown","event","key","placeholder","this","setState","target","value","className","type","name","onChange","handleChange","bind","onKeyPress","onClick","Component","Video","video","youtubeVideoKey","width","height","src","title","frameBorder","backdrop_path","alt","VideoDetail","movie","release_date","overview","VideoListItem","callback","poster_path","vote_average","VideoList","movies","movieList","map","id","API_KEY","API_END_POINT","App","setCurrentMovie","currentMovie","applyVideoToCurrentMovie","handleSearchConfirm","console","log","searchMovie","initMovies","axios","get","then","res","max","data","results","Math","floor","random","length","youtubeVideoUrl","current","sort","a","b","popularity","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16d437a5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class SearchBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            placeholder: 'Cherchez un film',\r\n            inputValue: '',\r\n        };\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ inputValue: event.target.value });\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.props.onConfirm(this.state.inputValue);\r\n    }\r\n\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n            this.props.onConfirm(this.state.inputValue);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n                <input type='text'\r\n                    className='search-bar'\r\n                    name='searchInput'\r\n                    placeholder={this.state.placeholder}\r\n                    onChange={this.handleChange.bind(this)}\r\n                    onKeyPress={this.handleKeyDown}\r\n                    value={this.state.inputValue}>\r\n                </input>\r\n                <button className='search-bar_submit'\r\n                    onClick={this.handleClick}>Go</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nconst Video = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                props.video.youtubeVideoKey ?\r\n                    <iframe width=\"700\" height=\"394\" src={`https://www.youtube.com/embed/${props.video.youtubeVideoKey}`} title=\"YouTube video player\" frameBorder=\"0\" />\r\n                    : <img src={`https://image.tmdb.org/t/p/w780${props.video.backdrop_path}`} width='700' height='394' alt={props.video.title} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Video;\r\n","import React from 'react';\r\n\r\nconst VideoDetail = (props) => {\r\n    let movie = props.movie;\r\n    return (\r\n        <div>\r\n            <div className='detail-header'>\r\n                <h2>{movie.title}</h2>\r\n                <h3 className='muted'>Sortie le {movie.release_date}</h3>\r\n            </div>\r\n            <p>{movie.overview}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoDetail;\r\n","import React from 'react';\r\n\r\nconst IMAGES_PATH = 'https://image.tmdb.org/t/p/w500';\r\n\r\nconst VideoListItem = (props) => {\r\n\r\n    let movie = props.movie;\r\n\r\n    return (\r\n        <li className='video-list-item' onClick={() => props.callback(movie)}>\r\n            <img src={`${IMAGES_PATH}${movie.poster_path}`} width='80' alt=''></img>\r\n            <div className='video-list-item-aside'>\r\n                <h4 className='video-list-item-title'>{movie.title}</h4>\r\n                <div className='muted small video-list-item-rating'>Sortie : {movie.release_date}</div>\r\n                <div className='muted video-list-item-rating'>Note : {movie.vote_average}</div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default VideoListItem;\r\n","import React from 'react';\r\n\r\nimport VideoListItem from '../components/VideoListItem';\r\n\r\nconst VideoList = (props) => {\r\n\r\n    let movies = props.movieList;\r\n\r\n    const renderMovies = () => {\r\n        return movies.map(movie => {\r\n            return <VideoListItem\r\n                movie={movie}\r\n                key={movie.id}\r\n                callback={props.callback} />\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='movie_list_section'>\r\n            <h3 className='mt-0'>Films recommand√©s</h3>\r\n            <div className='movie_list'>\r\n                <ul>\r\n                    {renderMovies()}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoList;\r\n","import axios from 'axios';\nimport React, { Component } from 'react';\nimport '../App.css';\nimport SearchBar from '../components/SearchBar';\nimport Video from '../components/Video';\nimport VideoDetail from '../components/VideoDetail';\nimport VideoList from '../containers/VideoList';\n\nconst API_KEY = 'api_key=b1bb009f89a909c0ae0b65bc17104e0e';\nconst API_END_POINT = 'https://api.themoviedb.org/3/';\nconst POPULAR_MOVIES_URL = 'discover/movie?language=fr&sort_by=popularity.desc&include_adult=false&append_to_response=images'\n// const IMAGES_PATH = 'https://image.tmdb.org/t/p/w500';\n\nconst SEARCH_MOVIE_URL = 'search/movie';\n\nconst YOUTUBE_URL = 'https://www.youtube.com/watch?v=';\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            movieList: [],\n            currentMovie: {}\n        };\n    }\n\n    componentWillMount() {\n        this.initMovies();\n    }\n\n    initMovies() {\n\n        function getRandomInt(max) {\n            return Math.floor(Math.random() * max);\n        }\n\n        axios.get(`${API_END_POINT}${POPULAR_MOVIES_URL}&${API_KEY}`).then(function (res) {\n            this.setState({\n                movieList: res.data.results,\n                currentMovie: res.data.results[getRandomInt(19)]\n            }, function () {\n                this.applyVideoToCurrentMovie();\n            });\n        }.bind(this));\n    }\n\n    applyVideoToCurrentMovie() {\n        axios.get(`${API_END_POINT}/movie/${this.state.currentMovie.id}/videos?${API_KEY}`).then(function (res) {\n            if (res.data.results.length) {\n                let currentMovie = this.state.currentMovie;\n                let youtubeVideoKey = res.data.results[0].key;\n                currentMovie.youtubeVideoKey = youtubeVideoKey;\n                currentMovie.youtubeVideoUrl = YOUTUBE_URL + youtubeVideoKey;\n                this.setState({ currentMovie: currentMovie });\n            }\n        }.bind(this));\n    }\n\n    setCurrentMovie = (movie) => {\n        this.setState({ currentMovie: movie }, () => {\n            this.applyVideoToCurrentMovie();\n        });\n    }\n\n    handleSearchConfirm = (value) => {\n        console.log('searched value', value);\n        this.searchMovie(value);\n    }\n\n    searchMovie(title) {\n        axios.get(`${API_END_POINT}${SEARCH_MOVIE_URL}?${API_KEY}&page=1&include_adult=false&language=fr&query=${title}`).then(function (res) {\n            if (res.data.results.length) {\n                // Show the first result in the main section\n                let movie = res.data.results[0];\n                let current = this.state.currentMovie;\n                if (movie.id !== current.id) {\n                    this.setState({ currentMovie: res.data.results[0] }, () => {\n                        this.applyVideoToCurrentMovie();\n                    });\n                }\n\n                // Show all results, sorted by popularity\n                let movies = res.data.results;\n                movies.sort((a, b) => (a.popularity < b.popularity));\n                this.setState({ movieList: movies });\n            }\n        }.bind(this));\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <header>\n                    <h1>My Netflix</h1>\n                    <div>\n                        <SearchBar onConfirm={this.handleSearchConfirm} />\n                        <a href='#' onClick={this.initMovies.bind(this)}>Afficher des recommandations</a>\n                    </div>\n                </header>\n                <div className='container'>\n                    <aside>\n                        <Video video={this.state.currentMovie} />\n                        <VideoDetail movie={this.state.currentMovie} />\n                    </aside>\n                    <VideoList movieList={this.state.movieList}\n                        callback={this.setCurrentMovie} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}